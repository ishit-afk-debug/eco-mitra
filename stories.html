<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåü Success Stories - EcoMitra</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .success-stories-section {
      margin: 2.5rem 0 2rem 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .success-stories-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
      width: 100%;
      max-width: 900px;
      margin-top: 1.5rem;
    }
    .success-story-card {
      background: #fff;
      border-radius: 1.2rem;
      box-shadow: 0 4px 16px #0002;
      padding: 1.2rem 1.2rem 1.2rem 1.2rem;
      text-align: center;
      font-size: 1.08rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: box-shadow 0.22s, transform 0.22s;
      border: 1px solid #e0e0e0;
      min-height: 220px;
    }
    .success-story-card:hover {
      box-shadow: 0 8px 28px #388e3c33;
      transform: translateY(-4px) scale(1.03);
      border-color: #4caf50;
    }
    .success-story-card img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 0.7rem;
      border: 2px solid #4caf50;
      box-shadow: 0 2px 8px #0001;
    }
    .back-home-btn {
      margin-bottom: 1.2rem;
      display: inline-block;
      font-size: 1.1rem;
      font-weight: bold;
      background: var(--eco-green);
      color: #fff;
      padding: 0.7rem 1.6rem;
      border-radius: 2rem;
      text-decoration: none;
      box-shadow: 0 2px 8px #0001;
      transition: background 0.2s, color 0.2s, transform 0.2s;
    }
    .back-home-btn:hover {
      background: var(--accent-yellow);
      color: var(--eco-green);
      transform: scale(1.05);
    }
    @media (max-width: 700px) {
      .success-stories-cards { grid-template-columns: 1fr; }
      .success-story-card { min-width: 90vw; max-width: 98vw; }
    }
    .story-cards-container {
      display: flex;
      flex-wrap: wrap;
      gap: 2em;
      justify-content: center;
      margin: 2em 0;
    }
    .story-card {
      background: #fff;
      border-radius: 1em;
      box-shadow: 0 2px 10px #0001;
      padding: 1em;
      margin: 1.2em auto;
      max-width: 340px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .story-photo {
      width: 100%;
      max-width: 260px;
      border-radius: 0.8em;
      margin-bottom: 0.7em;
      object-fit: cover;
      aspect-ratio: 4/3;
    }
    .story-caption {
      color: #256029;
      font-size: 1.05em;
      margin-top: 0.5em;
    }
  </style>
</head>
<body>
  <div class="page-header">
    <a href="index.html" class="back-home-btn" data-i18n="back_home">‚¨Ö Back to Home</a>
    <div class="header-actions">
      <div class="lang-select-container">
        <label for="lang-select-stories" data-i18n="select_language_label">üîä Select Language</label>
        <select id="lang-select-stories">
          <option value="en">English</option>
          <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
          <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
        </select>
      </div>
      <button id="dark-mode-toggle" title="Toggle dark mode" aria-label="Toggle dark mode">üåô</button>
      <button id="share-app-btn" title="Share this app" aria-label="Share this app">üì§</button>
      <button id="login-btn" title="Login" aria-label="Login">üîê</button>
      <span id="welcome-user" style="display:none;"></span>
      <button id="logout-btn" style="display:none;">Logout</button>
    </div>
  </div>
  <main>
    <h1 style="margin-top:1.5rem;" data-i18n="stories_title">üåü Success Stories</h1>
    <div class="story-cards-container">
      <div class="story-card">
        <img src="images/sunita-devi.jpeg" alt="Sunita Devi, Bihar" class="story-photo">
        <div class="story-caption">
          <strong>Sunita Devi, Bihar</strong><br>
          "I started composting and now earn ‚Çπ400/month. My village is cleaner and greener!"
        </div>
      </div>
      <div class="story-card">
        <img src="images/ramesh.jpeg" alt="Ramesh Kumar, UP" class="story-photo">
        <div class="story-caption">
          <strong>Ramesh Kumar, UP</strong><br>
          "By selling sorted plastic and metal, I pay my children's school fees."
        </div>
      </div>
      <div class="story-card">
        <img src="images/asha_shg.jpeg" alt="Asha SHG Group, Jharkhand" class="story-photo">
        <div class="story-caption">
          <strong>Asha SHG Group, Jharkhand</strong><br>
          "Our women's group makes crafts from waste and earns ‚Çπ2000+ every month."
        </div>
      </div>
    </div>
    <section class="success-stories-section">
      <div class="success-stories-cards">
        <!-- Cards will be injected by JS -->
      </div>
    </section>
    <div id="login-modal" class="login-modal" style="display:none;">
      <div class="login-modal-content">
        <span id="close-login-modal" class="close-login-modal">&times;</span>
        <h2 data-i18n="login_title">Login / Signup</h2>
        <form id="login-form">
          <input type="text" id="login-username" name="username" placeholder="Username" required data-i18n-placeholder="login_username_placeholder">
          <input type="password" id="login-password" name="password" placeholder="Password" required data-i18n-placeholder="login_password_placeholder">
          <button type="submit" data-i18n="login_submit">Login / Signup</button>
        </form>
        <div id="login-error" class="login-error"></div>
      </div>
    </div>
  </main>
  <footer class="eco-footer" data-i18n="footer">Built for Bharat. Powered by EcoMitra. üåè</footer>
  <div class="tree-container"></div>
  <div id="qr-modal" class="qr-modal" style="display:none;">
    <div class="qr-modal-content">
      <span id="close-qr-modal" class="close-qr-modal">&times;</span>
      <h2 data-i18n="share_qr_title">Scan to Share</h2>
      <canvas id="qr-canvas"></canvas>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
  <script>
    // --- Language Switcher (same logic as homepage, with localStorage) ---
    const translations = {
      hi: {
        back_home: '‚¨Ö ‡§π‡•ã‡§Æ ‡§™‡•á‡§ú ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç',
        select_language_label: 'üîä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç',
        stories_title: 'üåü ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡•Ä ‡§ï‡§π‡§æ‡§®‡§ø‡§Ø‡§æ‡§Å',
        login_title: '‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§®‡§Ö‡§™',
        login_username_placeholder: '‡§Ø‡•Ç‡§ú‡§º‡§∞‡§®‡•á‡§Æ',
        login_password_placeholder: '‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°',
        login_submit: '‡§≤‡•â‡§ó‡§ø‡§® / ‡§∏‡§æ‡§á‡§®‡§Ö‡§™',
        share_qr_title: '‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç',
        footer: '‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§ EcoMitra ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§‡•§ üåè',
      },
      en: {
        back_home: '‚¨Ö Back to Home',
        select_language_label: 'üîä Select Language',
        stories_title: 'üåü Success Stories',
        login_title: 'Login / Signup',
        login_username_placeholder: 'Username',
        login_password_placeholder: 'Password',
        login_submit: 'Login / Signup',
        share_qr_title: 'Scan to Share',
        footer: 'Built for Bharat. Powered by EcoMitra. üåè',
      }
    };
    document.addEventListener('DOMContentLoaded', function() {
      // Language logic
      const langSelect = document.getElementById('lang-select-stories');
      function setLang(lang) {
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            el.textContent = translations[lang][key];
          } else if (translations['en'][key]) {
            el.textContent = translations['en'][key];
          }
        });
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
          const key = el.getAttribute('data-i18n-placeholder');
          if (translations[lang] && translations[lang][key]) {
            el.setAttribute('placeholder', translations[lang][key]);
          } else if (translations['en'][key]) {
            el.setAttribute('placeholder', translations['en'][key]);
          }
        });
      }
      langSelect.addEventListener('change', function(e) {
        const lang = e.target.value;
        localStorage.setItem('ecomitra_lang', lang);
        setLang(lang);
      });
      const savedLang = localStorage.getItem('ecomitra_lang');
      if (savedLang) {
        langSelect.value = savedLang;
        setLang(savedLang);
      } else {
        setLang(langSelect.value);
      }
      // --- Success Stories ---
      const stories = [
        // Removed Ramesh, Sunita, Amit, and Meena cards as requested
      ];
      const storiesContainer = document.querySelector('.success-stories-cards');
      if (storiesContainer) {
        stories.forEach(s => {
          const card = document.createElement('div');
          card.className = 'success-story-card';
          card.innerHTML = `<img src="${s.img}" alt="${s.name}"/><div><b>${s.name}</b> <span>(${s.location})</span></div><div>${s.story}</div>`;
          storiesContainer.appendChild(card);
        });
      }
      // --- Dark Mode ---
      const darkToggle = document.getElementById('dark-mode-toggle');
      darkToggle && darkToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('ecomitra_dark', document.body.classList.contains('dark-mode') ? '1' : '0');
      });
      if (localStorage.getItem('ecomitra_dark') === '1') {
        document.body.classList.add('dark-mode');
      }
      // --- Share Button ---
      const shareBtn = document.getElementById('share-app-btn');
      const qrModal = document.getElementById('qr-modal');
      const closeQrModal = document.getElementById('close-qr-modal');
      shareBtn && shareBtn.addEventListener('click', function() {
        const url = window.location.origin + window.location.pathname;
        const msg = encodeURIComponent('Try EcoMitra for smart waste management! ' + url);
        if (navigator.share) {
          navigator.share({ title: 'EcoMitra', text: 'Try EcoMitra for smart waste management!', url });
        } else if (navigator.clipboard) {
          navigator.clipboard.writeText(url);
          alert('Link copied to clipboard!');
        }
        window.open('https://wa.me/?text=' + msg, '_blank');
        if (qrModal) {
          qrModal.style.display = 'block';
          const qr = new QRious({ element: document.getElementById('qr-canvas'), value: url, size: 180 });
        }
      });
      closeQrModal && closeQrModal.addEventListener('click', function() {
        qrModal.style.display = 'none';
      });
      // --- Login System ---
      const loginBtn = document.getElementById('login-btn');
      const loginModal = document.getElementById('login-modal');
      const closeLoginModal = document.getElementById('close-login-modal');
      const loginForm = document.getElementById('login-form');
      const loginError = document.getElementById('login-error');
      const welcomeUser = document.getElementById('welcome-user');
      const logoutBtn = document.getElementById('logout-btn');
      function showWelcome(username) {
        welcomeUser.textContent = 'Welcome, ' + username;
        welcomeUser.style.display = 'inline-block';
        logoutBtn.style.display = 'inline-block';
        loginBtn.style.display = 'none';
      }
      function hideWelcome() {
        welcomeUser.style.display = 'none';
        logoutBtn.style.display = 'none';
        loginBtn.style.display = 'inline-block';
      }
      function checkLogin() {
        const user = localStorage.getItem('ecomitra_user');
        if (user) {
          showWelcome(user);
        } else {
          hideWelcome();
        }
      }
      loginBtn && loginBtn.addEventListener('click', function() {
        loginModal.style.display = 'block';
      });
      closeLoginModal && closeLoginModal.addEventListener('click', function() {
        loginModal.style.display = 'none';
        loginError.textContent = '';
      });
      loginForm && loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('login-username').value.trim();
        const password = document.getElementById('login-password').value.trim();
        if (username.length < 2 || password.length < 2) {
          loginError.textContent = 'Please enter a valid username and password.';
          return;
        }
        localStorage.setItem('ecomitra_user', username);
        loginModal.style.display = 'none';
        showWelcome(username);
      });
      logoutBtn && logoutBtn.addEventListener('click', function() {
        localStorage.removeItem('ecomitra_user');
        hideWelcome();
      });
      checkLogin();
    });
  </script>
</body>
</html> 
